// global
var i = 0

fn main() {
    // expect: 0
    // expect: 1
    // expect: 2
    // expect: 3
    while i<4 {
        print i
        i = i + 1
    }
    print "----"

    // local with condition manipulation
    {
        var i = 3
        // expect: 3
        // expect: 5
        // expect: 7
        // expect: 9
        while i > 2 {
            print i

            i = i + 2
            if i > 10 do i = 1
        }
    }
    print "----"

    // local with stack manipulation
    var offset = 3
    {
        var i = 5
        var j = 8

        // expect: 8
        // expect: 11
        while i < 9 {
            var tmp = 12/3
            j = i + offset
            print j
            i = i + offset
        }
    }
    print "----"

    // Labelled
    var i = 0
    loop: while true {
        if i == 12 do break
        i += 1
    }
    print i // expect 12

    i = 0
    loop: while true {
        if i == 15 do break :loop
        i += 1
    }
    print i // expect 15

    i = 0
    outer: {
        loop: while true {
            if i == 18 do break :loop
            i += 1
        }
        print "outer"
    }
    print i // expect 18

    i = 0
    outer: {
        loop: while true {
            if i == 20 do break :outer
            i += 1
        }
        print "outer"
    }
    print i // expect 20
    print "----"
}
