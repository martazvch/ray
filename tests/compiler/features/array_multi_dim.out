-- getIdx --
load_constant index 3, value 1
ret

-- main --
load_constant index 3, value 1
load_constant index 4, value 2
load_constant index 5, value 3
array_new index 3
load_constant index 6, value 4
load_constant index 7, value 5
load_constant index 8, value 6
array_new index 3
array_new index 2

load_constant index 3, value 1
load_constant index 4, value 2
load_constant index 9, value 33
array_new index 3
load_constant index 5, value 3
load_constant index 6, value 4
load_constant index 10, value 55
array_new index 3
array_new index 2

load_constant index 8, value 6
load_constant index 11, value 7
call_sym index 1, arity 0, <function getIdx>
array_new index 3
load_constant index 12, value 8
load_constant index 13, value 9
load_constant index 3, value 1
add_int
load_constant index 14, value 11
array_new index 3
array_new index 2
struct_lit index 0, arity 1, <structure Foo>

get_local index 0
load_constant index 3, value 1
index_arr
load_constant index 4, value 2
index_arr
print

get_local index 0
load_constant index 16, value -2
index_arr
load_constant index 15, value -1
index_arr
print

load_constant index 17, value 99
get_local_cow index 0
load_constant index 15, value -1
index_arr_cow
call_sym index 1, arity 0, <function getIdx>
array_set

load_constant index 3, value 1
array_new index 1
get_local_cow index 2
get_field_cow index 0
call_sym index 1, arity 0, <function getIdx>
array_set

load_constant index 18, value -9
get_local_cow index 2
get_field_cow index 0
call_sym index 1, arity 0, <function getIdx>
index_arr_cow
load_constant index 3, value 1
array_set

get_local index 2
get_field index 0
call_sym index 1, arity 0, <function getIdx>
index_arr
print

get_local index 2
get_field index 0
call_sym index 1, arity 0, <function getIdx>
index_arr
load_constant index 3, value 1
index_arr
print

ret_naked

-- global scope --
call_sym index 2, arity 0, <function main>
